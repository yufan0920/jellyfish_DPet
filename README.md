# DPet - Desktop Pet Application

一个基于 Python 和 PyQt5 开发的桌面宠物应用程序，提供了一个可爱的水母作为桌面伙伴。

## 功能特点

- 🎵 音乐舞蹈：检测系统音乐播放状态，自动跳舞
- 🖱️ 拖拽互动：可以用鼠标拖动水母
- 🎯 窗口互动：可以在指定的窗口上方行走
- ⏰ 番茄时钟：内置番茄工作法计时器
- 💧 健康提醒：定时提醒喝水和休息
- 🎨 自定义设置：可调整大小、行走速度等

## 安装说明

1. 确保已安装 Python 3.6 或更高版本
2. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 使用方法

1. 直接运行可执行文件：
   - 下载发布版本中的 exe 文件
   - 双击运行即可

2. 从源码运行：
```bash
python main.py
```

## 使用说明

### 基本操作
- 右键点击显示菜单
- 左键拖动水母
- 双击触发特殊动画

### 音乐舞蹈功能
- 默认开启，支持网易云音乐、QQ音乐等常见音乐软件
- 当音乐播放时，小水母会自动开始跳舞
- 使用前需要设置：
  1. 打开 Windows 设置 > 系统 > 声音 > 输入
  2. 启用"立体声混音"功能（如果没有此选项，需先点击"添加设备"）
- 可以通过右键菜单开启或关闭此功能

### 行走控制
1. 随机行走模式：
   - 可在菜单中开启/关闭
   - 支持调节行走概率（影响触发频率）
   - 可调整行走速度
   - 当被其他功能（如音乐跳舞、健康提醒、番茄钟）打断后，会在功能结束时自动恢复随机行走状态
   - 音乐跳舞功能优先级高于随机行走，当检测到音乐时会暂停行走并开始跳舞，音乐停止后会恢复行走

2. 手动行走模式：
   - 通过菜单手动控制行走方向
   - 支持左右行走控制

### 大小设置
提供四种预设大小：
- 标准（100%）：默认大小
- 较小（70%）：适合屏幕空间较小时使用
- 较大（150%）：提供更好的视觉效果
- 最大（200%）：最大显示模式

### 健康提醒设置
在健康提醒子菜单中可设置：

1. 休息提醒：
   - 可自定义提醒间隔时间
   - 可设置休息动画播放时长
   - 支持开启/关闭功能

2. 喝水提醒：
   - 可自定义提醒间隔时间
   - 可设置提醒动画播放时长
   - 支持开启/关闭功能

### 番茄时钟功能
1. 基本设置：
   - 工作时间（默认25分钟）
   - 休息时间（默认5分钟）
   - 番茄钟数量（1-10个）

2. 操作说明：
   - 可在"番茄钟设置"子菜单自定义"工作时间" "休息时间" "番茄钟数量"，设置完成后点击"确定"
   - 通过"开始番茄钟"进入工作状态
   - 番茄钟状态下其他功能锁定
   - 仅保留暂停、继续和重置功能
   - 完成后需点击"重置"退出状态

3. 界面显示：
   - 进度显示窗口：显示当前番茄钟进度
   - 倒计时窗口：显示剩余时间

### 互动窗口设置
1. 添加方式：
   - "当前窗口"：自动检测已打开的窗口
   - "预设窗口"：包含常用程序窗口
   - 手动添加：可输入窗口名称（支持模糊匹配）

2. 补充说明：
   - 添加成功后会显示提示窗口
   - 可以手动移除已添加的窗口
   - 支持多个互动窗口
   - 小水母优先与最上层窗口互动
   - 保留手动添加功能，防止程序未检测到某些窗口

## 贡献指南

欢迎提交 Issue 和 Pull Request！

## 许可证

本项目采用 [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh) 许可证。这意味着您可以自由地：

- 共享 — 在任何媒介以任何形式复制、发行本作品
- 演绎 — 修改、转换或以本作品为基础进行创作

但必须遵守以下条件：

- 署名 — 您必须给出适当的署名
- 非商业性使用 — 您不得将本作品用于商业目的
- 相同方式共享 — 您必须基于与原先许可协议相同的许可协议分发您贡献的作品

[![知识共享许可协议](https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png)](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh) 